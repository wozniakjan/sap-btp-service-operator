{{- if and (.Values.manager.secret.tls.crt) (.Values.manager.secret.tls.key) }}
apiVersion: v1
kind: Secret
metadata:
  name: sap-btp-service-operator-tls
  namespace: {{ .Release.Namespace }}
type: kubernetes.io/tls
data:
  {{- if .Values.manager.secret.b64encoded }}
  tls.crt: {{ .Values.manager.secret.tls.crt }}
  tls.key: {{ .Values.manager.secret.tls.key }}
  {{- else}}
  tls.crt: {{ .Values.manager.secret.tls.crt | b64enc }}
  tls.key: {{ .Values.manager.secret.tls.key | b64enc }}
  {{- end }}
{{- end }}
{{- if not .Values.manager.certificates }}
---
apiVersion: v1
kind: Secret
metadata:
  name: webhook-server-cert
  namespace: {{.Release.Namespace}}
type: kubernetes.io/tls
data:
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVMVENDQXhXZ0F3SUJBZ0lVYTZmZW5ORk1qTWVIL1pkY2FUaDhuYTZ3Q1JJd0RRWUpLb1pJaHZjTkFRRUwKQlFBd096RTVNRGNHQTFVRUF3d3djMkZ3TFdKMGNDMXZjR1Z5WVhSdmNpMTNaV0pvYjI5ckxYTmxjblpwWTJVdQphM2x0WVMxemVYTjBaVzB1YzNaak1CNFhEVEl5TURFeE1qRTFNamN3T0ZvWERUTXlNREV4TURFMU1qY3dPRm93Ck96RTVNRGNHQTFVRUF3d3djMkZ3TFdKMGNDMXZjR1Z5WVhSdmNpMTNaV0pvYjI5ckxYTmxjblpwWTJVdWEzbHQKWVMxemVYTjBaVzB1YzNaak1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdE5kQQpZN2lXUkN6VGpMN3ZMUEpsaDN3eldaMWxud0NzZFRQRXR3Q0NWNThnblZlOVRZUGR5T25UdVdHOUFSa2kwWFpGCkkwOTd2d0E3dENVLzNON0NGZEIrK1N0bkFBUTN5VFRPMFl4VEJqLysrWDhjUHZCTGFpWEdiSGE2NGdKeVRndXIKdTRrc29Gam8zTEdyMGltY3BNdnRnTjhVTFo1OHFnU2dBMlY0Ulgrb21wOTN0TTNzZmxDREhrSU9YY2wvZW1EVgorYzMyZjZoSmg2V0d4WFRybC9DcUlmMkxPdEZaMlVmejhRdE5XY015RXE1NWduSElqK1JqTk9hMmNRTWttekVXCkFCNHJRWlBLSzRRSWdmNi9KU2paVmpyNkJsbWRpalpSY09ESU5KWG41b2Z1UHFNSEM0WStKeGlqbGdoMEpKN08KQldNWHpMWnJLcEhJZEM2MGNRSURBUUFCbzRJQkp6Q0NBU013Q1FZRFZSMFRCQUl3QURBTEJnTlZIUThFQkFNQwpCZUF3Z2dFSEJnTlZIUkVFZ2Y4d2dmeUNQbk5oY0MxaWRIQXRiM0JsY21GMGIzSXRkMlZpYUc5dmF5MXpaWEoyCmFXTmxMbXQ1YldFdGMzbHpkR1Z0TG5OMll5NWpiSFZ6ZEdWeUxteHZZMkZzZ2poellYQXRZblJ3TFc5d1pYSmgKZEc5eUxYZGxZbWh2YjJzdGMyVnlkbWxqWlM1cmVXMWhMWE41YzNSbGJTNXpkbU11WTJ4MWMzUmxjb0l3YzJGdwpMV0owY0MxdmNHVnlZWFJ2Y2kxM1pXSm9iMjlyTFhObGNuWnBZMlV1YTNsdFlTMXplWE4wWlcwdWMzWmpnaXh6CllYQXRZblJ3TFc5d1pYSmhkRzl5TFhkbFltaHZiMnN0YzJWeWRtbGpaUzVyZVcxaExYTjVjM1JsYllJZ2MyRncKTFdKMGNDMXZjR1Z5WVhSdmNpMTNaV0pvYjI5ckxYTmxjblpwWTJVd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQgpBQi82ZmJUSTRucElNRkk4ajh0b0tCdHNGb0pLbVJaQkphUEFvaW91bXpkaG9xdndveFZXVDBsVkMzQ3F4aTBoCm9kcVM2QlcyYk5jTUhRQjgraTlBWEcrelgrd2dNWHZPUDB6d3h4NUFORUFnUlYyaUFtbm93QVdXWE9HbjVBSmIKZ2dRNTl0YnlMVUtjZmVpamp6MjFVcmdXUXZ1NG9weCt4M0FBVWhxTUVVUVIzd2JmbS90KzNwSUIwdUhod3ZBMAo0RjNGSDBOQzI1ODBxRlRNYjJUZ1RqMG9HK0pBbkY1eEVHTWlHKzk4Mmg0THJ0b0VrUHp6VFBrRjFnKy9OOGNxClROM1NBYnR2UUdmcTVybnRYUDdNbktOSER6Z3cxaFdYdjFlZUdaNjU5di9LM2lNOTZjMWtpZjFjTEY1Z1ZldlEKZEs3c0FIbmVVUXlzVi9VUDFtTVk1cU09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K" # selfsigned
  tls.key: "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBdE5kQVk3aVdSQ3pUakw3dkxQSmxoM3d6V1oxbG53Q3NkVFBFdHdDQ1Y1OGduVmU5ClRZUGR5T25UdVdHOUFSa2kwWFpGSTA5N3Z3QTd0Q1UvM043Q0ZkQisrU3RuQUFRM3lUVE8wWXhUQmovKytYOGMKUHZCTGFpWEdiSGE2NGdKeVRndXJ1NGtzb0ZqbzNMR3IwaW1jcE12dGdOOFVMWjU4cWdTZ0EyVjRSWCtvbXA5Mwp0TTNzZmxDREhrSU9YY2wvZW1EVitjMzJmNmhKaDZXR3hYVHJsL0NxSWYyTE90RloyVWZ6OFF0TldjTXlFcTU1CmduSElqK1JqTk9hMmNRTWttekVXQUI0clFaUEtLNFFJZ2Y2L0pTalpWanI2QmxtZGlqWlJjT0RJTkpYbjVvZnUKUHFNSEM0WStKeGlqbGdoMEpKN09CV01YekxacktwSElkQzYwY1FJREFRQUJBb0lCQVFDRDJkbFptOUQ3dmc4MApORllnV0UrTVhCTDRpTmo1K0R6RmEweEcvWGtMTjd0STNScnB0SFoxTVg4c1Q4WEZValZmc1RLeGp4Y3phSkVmClJIVnVyWCttOWhCTnpjWlliYnJhMmNUZFpjbDI2aHdXZndYeUliTnFua1l3K05SRFN2TmFVZ29SUHUrcHJZbUMKdDR3R1BFNjRuUEw2bml1UkkxZlRnbkhFYUN3cnhyQjRYWmNoS1p2NUpvYjRtZ0dDbWM5TTFrVW96TkU5Mk9nNAp1MWRVQWk0OWszNERNN2FDd0FJYU01QjZoOWFOVHU2elhDdE11MDBSa1V5WTZmcFFuVkpzUXh1RUViRFJSaXY5CnRwN3Y3Y2hLZG9kbVo3MWFlWFROMStCQm96eDA5S1RGZEFSN2xsaUpRUnpZMlBZOWpUTVRaSWluRDlOM0ROYzgKNEFmMFlEWXRBb0dCQU9iWDlBeEhwZGMrVGNzbTZVZGFrM3N3VkVVVGVTRjh6RFJ3K1hGVnhpSkUxUHdlclVBMgozU0VHUE9nTXlGTEVlK2FxdW5CNEdPVUs0VCtzRDBncG4xWFVDcitGS1l0ckM3Q1lsZWZxU2dtL3ZWek91aUFzClRvbTRTQkpHaG1hWVU4aW9ZWTFXeFBPaXQ0aHFvaXM2TE1rbXBSK21KSnFTZE5Cdk14TllFMURqQW9HQkFNaU0KVTk2RGFjcnREVFBrSGwvRTdDQTdGUmNEMTBXd0RCU1F3ZE1KeU9NWWhQUFlUZjhGZThUVkRIVUxPYlczWWRCOApjN1BKUkFzbnpMQnBCOWlFRjhpcGJiWmJycks3K3NzQmkxaTdRVGhQNGlydklqemxTNDg0RHR6dE5HUHZQYXZmCmFIYmM5SDhiN2E1dkhlWUtrTWcwSXcxTFEySVdQRno2RnVLUHBFbWJBb0dBVWlYamlVTXQ5eTBLemhLb3pXV2sKT2lCMnZLWXpZd0ZnUWdFNkkyVGN2M0V6UWcxQXBpdGdBZEtRZGh1bVpoM1o0Ym83NHE0NlhiZkRkTDhzS1FmMgoxYnBCb09vb1lKN1ZhQ0RFcCtVdU44M3QrMHJ0M1drbkFjZDhqbFJlbTcvMWdPQzY1bXRNWjA4dWRQTk5ob2lMClM0SGZIU1lvdklFRjVPN05oRUxCalBVQ2dZRUFnSzNoeHAybGpRcHJkVWRDNGdwVnhCeUUzTDZmSzF6WmMzeXEKa1VIdS95QWxkdHpzdHR5SzNQSWl5eHNIelh3OEsrMGV4Rlk0N2J0ODBCaWtheDNlc09kZHVTdTh2WHgyWURtKwpjcEc4T0dpeFl3RUxnKzFRZlRYbis0UE1JTzlLTC9UcWI1STQ0ekpGWUs1MWpieHJ4N29FWDZ4U01TYTVWcU0xCmVldlc2MDhDZ1lCVHg5Z25kclI0MmQwQWU5YmV1U3lGa0JidjNIZjBqR05jclBsZ1VsWXFSZm5rNHh6VHlyYWIKU2FlZWRvdk55TUVwNEFweHFDRTNsRDBpdlV3VmpkRGgrVmxqWGdtNHQ3MWY0ZnhldG8rSkRxV3pjR3BqTWhrOQorVlB5UEdwZ2FXRk5XMkdtUDRweVExaUlPT2diRVJyZ1ZTZHgwTndEZ0ZjNnJocmF3eGhBcnc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=" # selfsigned
{{- end}}
